<div data-ng-init='new()' class='grid'>
  <div class='valley dark-color col-12-12' id='new-expense'>

    <form class='new-expense-form center form' method="post" ng-submit="create(expense)">
      <div class='fields grid'>
        <div class='field col-12-12'>
          <label for='value'>Valor</label>
          <input id='value' type="number"
                            step="0.01"
                            placeholder="10,32"
                            ngPattern="[0-9]+([\.|,][0-9]+)?"
                            ng-model="expense.value" required></input>
        </div>
      </div>

      <div class='fields grid'>
        <div class='field col-12-12' >
          <label for='date'>Data</label>
          <input type="date" id='date' ng-model="expense.date" required></input>
        </div>
      </div>

      <div class='fields grid'>
        <div class='field col-6-12'>
          <label for='category'>Categoria</label>
          <input type="text" id='category' ng-model="expense.category" list="categories" required></input>

          <datalist id="categories">
            <option ng-repeat="category in categories" value="{{category.label}}" >
          </datalist>
        </div>

        <div class='field col-6-12'>
          <label for='category'>Subcategoria</label>
          <input type="text" id='category' ng-model="expense.subcategory" list="subcategories" required></input>

          <datalist id="subcategories">
            <option ng-repeat="subcategory in subcategories" value="{{subcategory.label}}" required>
          </datalist>
        </div>
      </div>

      <div class='fields'>
        <div class='field'>
          <button type="submit" class='button right'>Salvar</button>
        </div>
      </div>
    </form>

  </div>
  <div class='reports col-12-12'>
    <div class='report col-6-12'>
      <div class='title'>
        <h2>Gasto por categoria</h2>
      </div>
      <div class='filter'>
      </div>
      <div class='chart'>
        <div dttt-ddd-donut ng-model="categories" chart-id='categoriespiechart'></div>
      </div>
    </div>

    <div class='report col-6-12'>
      <div class='title'>
        <h2>Gasto por subcategoria</h2>
      </div>
      <div class='filter'>
        <select ng-model="subcategoriesChart" ng-options="category.subcategories as category.label for category in categories">
        </select>
      </div>
      <div class='chart'>
        <div dttt-ddd-donut ng-model="subcategoriesChart" chart-id='subcategoriespiechart'></div>
      </div>
    </div>
  </div>
</div>